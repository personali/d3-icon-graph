<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
        <link rel="stylesheet" href="styles.css" />
        <script type="text/javascript" src="../node_modules/canvas-gauges/gauge.min.js"></script>
    </head>

    <body>

    <div id="wrapper" class="toggled">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">
                        Start Bootstrap
                    </a>
                </li>
                <li>
                    <a href="#">Dashboard</a>
                </li>
                <li>
                    <a href="#">Shortcuts</a>
                </li>
                <li>
                    <a href="#">Overview</a>
                </li>
                <li>
                    <a href="#">Events</a>
                </li>
                <li>
                    <a href="#">About</a>
                </li>
                <li>
                    <a href="#">Services</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->


        <!-- Page Content -->
        <div id="page-content-wrapper">
          <div class="container-fluid">

            <div class="row" style="margin:0px auto; max-width:1280px">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-body" style="text-align:center;background-color: #ff5522">
                            <p style="color:#fff;font-size:1.5em;">Your Overall Score</p>
                            <div id="content"></div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/conversion_icon.jpg" /></div>Conversion<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align:center;">
                            <p style="color:#b2b2b2;padding-bottom:10px">The percentage of purchases from unique visitors.</p>
                            <canvas id="gauge-id"></canvas>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Drive your users to complete more purchases. <a href="#">Learn How.</a></div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/ARPU_icon.jpg" /></div>ARPU<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align: center;">
                            <p style="color:#b2b2b2;">Average revenue per unique visitor</p>
                            <div id="figure" style="display:inline-block;margin:10px 0;">
                                <div id="figure-left" style="float:left;margin-right:35px;"></div>
                                <div id="figure-right" style="float:left"></div>
                                <div class="clearfix"></div>
                            </div>
                            <div style="display:inline-block;">
                                <div style="float:left;margin-right: 19px">
                                    <div class="circle friend">
                                        <p style="color:#6ab414">$1.4</p>
                                    </div><br/>
                                    Your Avg
                                </div>
                                <div style="float:left;">
                                    <div class="circle friend">
                                        <p>$0.9</p>
                                    </div><br/>
                                    Industry Avg
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Increase your visitor's spend on the site. <a href="#">Learn How</a></div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/Loyalty_icon.jpg" /></div>Loyalty<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align: center;">
                            <p style="color:#b2b2b2;">Percentage of signed in visitors</p>
                            <div id="heart" style="display:inline-block;margin-top:10px">
                                <div id="heart-left" style="float:left;margin-right:1px;"></div>
                                <div id="heart-right" style="float:left"></div>
                            </div>
                            <div  class="clearfix"></div>
                            <div style="padding:20px 0;">
                                <div style="float:left;width:50%;text-align:right;padding:10px;border-right:1px solid #b2b2b2;line-height:1.2em"><p style="font-size:2em;">23%</p>Your Avg</div>
                                <div style="float:left;width:50%;text-align:left;padding:10px;line-height:1.2em"><p style="font-size:2em;">30%</p>Industry Avg</div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Encourage your visitor's loyalty. <a href="#">Learn How</a></div>
                    </div>
                </div>

                <div class="col-md-5">
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/funnel_icon.jpg" /></div>Sales Funnel<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="position:relative">
                            <div style="background: url(assets/Funnel_upper.png) center center no-repeat;height:120px;text-align: center;padding-top:61px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-visitors"></span><br/>
                                <span style="color:#fff;">Unique visitors</span>
                            </div>
                            <div style="background: url(assets/Funnel_middle.png) center center no-repeat;height:150px;text-align: center;padding-top:66px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-added"></span><br/>
                                <p style="margin:0 auto;color:#fff;width:160px">Unique visitors who added to cart</p>
                            </div>
                            <div style="background: url(assets/Funnel_bottom.png) center center no-repeat;height:174px;text-align: center;padding-top:74px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-purchases"></span><br/>
                                <p style="margin:0 auto;color:#fff;width:120px">Unique visitors who made a purchase</p>
                            </div>
                            <div style="position:absolute;left:0;top:149px;margin-left:14px;">
                                <div style="line-height: 1.3em">
                                    <span style="font-size:1.7em;color:#6ab414">42.8%</span><br />
                                    <span style="color:#b2b2b2">Your Avg</span>
                                </div>
                                <div style="margin-top:16px;line-height: 1.3em">
                                    <span style="font-size:1.7em;color:#6e7177">30.50%</span><br />
                                    <span style="color:#b2b2b2">Industry Avg</span>
                                </div>
                                <div style="margin-left:20px;margin-top:5px;"><img src="assets/Funnel_lower_indicator.png"/>
                                </div>
                            </div>
                            <div style="position:absolute;right:0;top:18px;margin-right:14px;">
                                <div style="line-height: 1.3em;text-align: right">
                                    <span style="font-size:1.7em;color:#fa2323">2.8%</span><br />
                                    <span style="color:#b2b2b2">Your Avg</span>
                                </div>
                                <div style="margin-top:16px;line-height: 1.3em; text-align: right">
                                    <span style="font-size:1.7em;color:#6e7177">4.00%</span><br />
                                    <span style="color:#b2b2b2">Industry Avg</span>
                                </div>
                                <div style="margin-left:20px;margin-top:5px;">
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer" style="text-align: center;"><b>Tip:</b> You can improve your funnel performance</div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/avg_products_icon.jpg" /></div>Average Products Per Order<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align: center">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">The average amount of unique products per order.</p>
                            <div style="display:inline-block;">
                                <div id="avg-product-per-order" style="float:left;">
                                    <div id="avg-product-per-order-left" style="float:left;"></div>
                                    <div id="avg-product-per-order-right" style="float:left;"></div>
                                </div>
                                <div style="float:left;margin-left:10px;">
                                    <div style="float:left;padding:15px;border-right:1px solid #b2b2b2"><span style="font-size:2em;">1.30</span><br/>Your Avg</div>
                                    <div style="float:left;padding:15px"><span style="font-size:2em;">2.30</span><br/>Industry Avg</div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer" style="text-align: center;"><b>Tip:</b> Increase your average number of products per order. <a href="#">Learn How</a></div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading">Incentives Distribution<div class="pull-right"><img src="assets/info_icon.jpg" /></div>
                        </div>
                        <div class="panel-body">
                            <div id="donut-chart" style="text-align: center;"></div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/discount_ratio_icon.jpg" /></div>Discount Ratio<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Average discount rate given to buyers</p>
                            <div style="min-width:260px">
                                <div style="float:left;height:208px;width:150px;">
                                    <div id="price-tag-container" style="float:right; display:inline-block;width:120px;border-left:10px solid white">
                                        <div id="price-tag-left" style="float:left;"></div>
                                        <div id="price-tag-right" style="float:left;"></div>
                                    </div>
                                    <div style="margin-top:53px;height:170px;">
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">40%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">30%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">20%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">10%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">0%</div>
                                    </div>

                                </div>
                                <div style="float:left;margin-left:15px">
                                    <div><span style="font-size:1.7em;color:#6ab414">12.20%</span><p>Your Avg<br/>discount</p><p><span>Which sums<br/> up to </span><span>$1.2M</span></p></div>
                                    <div><span style="font-size:1.7em;">24.05%</span><p><span>Industry Avg<br/>Discount</span></p></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Save margins by giving lower discounts while keeping your sale volume</div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/discount_volume_rate_icon.jpg" /></div>Discount Volume Rate<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Percentage of discounted orders</p>
                            <div style="min-width:290px">
                                <div style="height:178px;width:140px;float:left">
                                    <div id="discount-volume-rate-chart" style="float:right;"></div>
                                    <div style="height:50%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">50%</div>
                                    <div style="height:50%;border-top:1px solid #b2b2b2;border-bottom:1px solid #b2b2b2;text-align:left;font-size:0.8em">25%</div>
                                </div>
                                <div style="float:left;margin-left:15px;">
                                    <div><span style="font-size:1.7em;color:#6ab414">14%</span><br/><span>Your Avgerage</span></div>
                                    <div><span style="font-size:1.7em;">35%</span><br/><span>Industry Average</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/AOV_icon.jpg" /></div>AOV<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Average order value</p>
                            <div style="min-width:290px">
                                <div style="height:178px;width:140px;float:left">
                                    <div id="aov-chart" style="float:right;"></div>
                                    <div style="height:33%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">$225</div>
                                    <div style="height:33%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">$120</div>
                                    <div style="height:34%;border-top:1px solid #b2b2b2;border-bottom:1px solid #b2b2b2;text-align:left;font-size:0.8em">$75</div>
                                </div>
                                <div style="float:left;margin-left:15px;">
                                        <div><span style="font-size:1.7em;color:#6ab414">$200</span><br/><span>Your Average</span></div>
                                        <div><span style="font-size:1.7em;">$115</span><br/><span>Industry Average</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading">
                            <div class="pull-left" style="margin-right:10px;"><img src="assets/abandonment_icon.jpg" /></div>
                            <div class="pull-left">Shopping <br />Abandonment Rate</div>
                            <div class="pull-right"><img src="assets/info_icon.jpg" /></div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="panel-body">
                             <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Percentage of carts that didn't <br/>end up as orders.</p>
                             <div>
                             </div>
                            <div id="" style="margin:10px 0;">
                                <div id="shopping-abandonment-chart-left" style="float:left;"></div>
                                <div id="shopping-abandonment-chart-right" style="float:left;"></div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> You can reduce your cart abandonment rate. <a href="#">Learn How</a></div>
                    </div>
                </div>
            </div>
          </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="../dist/bundle.js"></script>
        <script>
            d3.iconGraph('#heart-left').properties({
                'emptyGraph': 'assets/LeftHeartEmpty.png',
                'fullGraph': 'assets/LeftHeartFull.png',
                'width': '52px',
                'height': '95px',
                'percent': 88
            });

            d3.iconGraph('#heart-right').properties({
                'emptyGraph': 'assets/RightHeartEmpty.png',
                'fullGraph': 'assets/RightHeartFull.png',
                'width': '52px',
                'height': '95px',
                'percent': 60
            });

            d3.iconGraph('#figure-left').properties({
                'emptyGraph': 'assets/ARPUU_empty_new.jpg',
                'fullGraph': 'assets/ARPUU_full_blue_new.jpg',
                'width': '59px',
                'height': '123px',
                'percent': 88
            });

            d3.iconGraph('#figure-right').properties({
                'emptyGraph': 'assets/ARPUU_empty_new.jpg',
                'fullGraph': 'assets/ARPUU_full_grey_new.jpg',
                'width': '59px',
                'height': '123px',
                'percent': 60
            });

            d3.iconGraph('#price-tag-left').properties({
                'emptyGraph': 'assets/discount_ratio_empty_left.jpg',
                'fullGraph': 'assets/discount_ratio_full_left.jpg',
                'width': '55px',
                'height': '208px',
                'percent': 30
            });

            d3.iconGraph('#price-tag-right').properties({
                'emptyGraph': 'assets/discount_ratio_empty_right.jpg',
                'fullGraph': 'assets/discount_ratio_full_right.jpg',
                'width': '54px',
                'height': '208px',
                'percent': 50
            });

            d3.iconGraph('#avg-product-per-order-left').properties({
                'emptyGraph': 'assets/average_products_left_empty.jpg',
                'fullGraph': 'assets/average_products_left_full.jpg',
                'width': '43px',
                'height': '106px',
                'percent': 70
            });

            d3.iconGraph('#avg-product-per-order-right').properties({
                'emptyGraph': 'assets/average_products_right_empty.jpg',
                'fullGraph': 'assets/average_products_right_full.jpg',
                'width': '99px',
                'height': '106px',
                'percent': 100
            });

            d3.iconGraph('#shopping-abandonment-chart-left').properties({
                'emptyGraph': 'assets/shopping_abandonment_empty_left.jpg',
                'fullGraph': 'assets/shopping_abandonment_full_left.jpg',
                'width': '102px',
                'height': '122px',
                'percent': 70
            });

            d3.iconGraph('#shopping-abandonment-chart-right').properties({
                'emptyGraph': 'assets/shopping_abandonment_empty_right.jpg',
                'fullGraph': 'assets/shopping_abandonment_full_right.jpg',
                'width': '33px',
                'height': '122px',
                'percent': 90
            });

            d3.barGraph('#discount-volume-rate-chart').properties({
                'height': 178,
                'width': 110,
                'colors': ['#585c63', '#16315c'],
                'data': [60, 80]
            });

            d3.barGraph('#aov-chart').properties({
                'height': 178,
                'width': 110,
                'colors': ['#16315c', '#585c63'],
                'data': [100, 200]
            });

            d3.scoreCard("div#content").properties({});

            d3.countUp("span#unique-visitors").properties({
                format: ",d",
                start: 1,
                end: 1125225,
                duration: 1000
            });

            d3.countUp("span#unique-added").properties({
                format: ",d",
                start: 1,
                end: 1250,
                duration: 1000
            });

            d3.countUp("span#unique-purchases").properties({
                format: ",d",
                start: 1,
                end: 1875,
                duration: 1000
            });

            // BEGIN Conversion Radial Gauge
             var gauge = new RadialGauge({
                renderTo: 'gauge-id', // identifier of HTML canvas element or element itself
                width: 250,
                height: 250,
                units: '',
                title: false,
                value: 0,
                minValue: 0,
                maxValue: 4,
                startAngle: 90,
                ticksAngle: 180,
                majorTicks: [
                    '0','1','1.5','2','2.5','3','3.5','4'
                ],
                minorTicks: 5,
                strokeTicks: false,
                highlights: [
                    {"from": 0, "to": 1, "color": "rgba(250, 48, 35, 1)"},
                    {"from": 3, "to": 4, "color": "rgba(58, 198, 40, 1)"}
                ],
                colorPlate: '#fff',
                colorMajorTicks: '#a2a3a3',
                colorMinorTicks: '#a2a3a3',
                colorTitle: '#a2a3a3',
                colorUnits: '#a2a3a3',
                colorNumbers: '#a2a3a3',
                colorNeedleStart: '#a2a3a3',
                colorNeedleEnd: '#a2a3a3',

                valueBox: false,
                animationRule: 'bounce',
                borders: false,
                borderShadowWidth: 0
            });
            // draw initially
            gauge.draw();
            gauge.value = 2
            // END Conversion Radial Gauge


            var dataset = [
              { label: 'Abulia', count: 10 },
              { label: 'Betelgeuse', count: 20 },
              { label: 'Cantaloupe', count: 30 },
              { label: 'Dijkstra', count: 40 }
            ];

            var width = 160;
            var height = 160;
            var radius = Math.min(width, height) / 2;
            var donutWidth = 40; // NEW

            var color = d3.scaleOrdinal(['#16315c', '#6bc7f8', '#316bb5']); // d3.schemeCategory20b

            var svg = d3.select('div#donut-chart')
              .append('svg')
              .attr('width', width)
              .attr('height', height)
              .append('g')
              .attr('transform', 'translate(' + (width / 2) +
                ',' + (height / 2) + ')');

            var arc = d3.arc()
              .innerRadius(radius - donutWidth)             // UPDATED
              .outerRadius(radius);

            var pie = d3.pie()
              .value(function(d) { return d.count; })
              .sort(null)
              .padAngle(.02);

            var path = svg.selectAll('path')
              .data(pie(dataset))
              .enter()
              .append('path')
              .attr('d', arc)
              .attr('fill', function(d, i) {
                return color(d.data.label);
              });


        </script>
    </body>
</html>
