<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous" />
        <style> /* set the CSS */
            .line {
              fill: none;
              stroke: steelblue;
              stroke-width: 2px;
            }

            .grid line {
              stroke: lightgrey;
              stroke-opacity: 0.7;
              shape-rendering: crispEdges;
            }

            .grid path {
              stroke-width: 0;
            }

            .progress-meter text {
                font-family:"Helvetica Neue", Helvetica, Arial, sans-serif;
                font-size: 24px;
                font-weight: bold;
            }

            #discount-volume-rate-chart div {
              font: 10px sans-serif;
              text-align: right;
              padding: 3px;
              margin: 1px;
              color: white;
            }

            .panel-default>.reports-panel-heading,
            .reports-panel-footer {
                background-color: #fff;
            }

            .panel-default>.reports-panel-heading {
                color:#111111;
            }

            .reports-panel-footer {
                color:#b2b2b2;
                text-align: center;
            }

        </style>
        <script type="text/javascript" src="../node_modules/canvas-gauges/gauge.min.js"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row" style="margin-left:200px;">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-body" style="text-align:center;background-color: #ff5522">
                            <p style="color:#fff;font-size:1.5em;">Your Overall Score</p>
                            <div id="content"></div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/conversion_icon.jpg" /></div>Conversion<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align:center;">
                            <p style="color:#b2b2b2;padding-bottom:10px">The percentage of purchases from unique visitors.</p>
                            <canvas id="gauge-id"></canvas>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Drive your users to complete more purchases. Learn How.</div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/ARPU_icon.jpg" /></div>ARPU<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align: center;">
                            <p style="color:#b2b2b2;">Average revenue per unique visitor</p>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Increase your visitor's spend on the site. Learn How</div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/Loyalty_icon.jpg" /></div>Loyalty<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="text-align: center;">
                            <p style="color:#b2b2b2;">Percentage of signed in visitors</p>
                            <div id="heart" style="display:inline-block;">
                                <div id="heart-left" style="float:left;margin-right:1px;"></div>
                                <div id="heart-right" style="float:left"></div>
                            </div>
                            <div class="clearfix"></div>
                            <div style="float:left;width:50%"><p style="font-size:2em;">23%</p>Your Avg</div>
                            <div style="float:left;width:50%"><p style="font-size:2em;">30%</p>Industry Avg</div>
                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Encourage your visitor's loyalty. Learn How</div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/funnel_icon.jpg" /></div>Sales Funnel<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body" style="position:relative">
                            <div style="background: url(assets/Funnel_upper.png) center center no-repeat;height:120px;text-align: center;padding-top:61px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-visitors"></span><br/>
                                <span style="color:#fff;">Unique visitors</span>
                            </div>
                            <div style="background: url(assets/Funnel_middle.png) center center no-repeat;height:150px;text-align: center;padding-top:66px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-added"></span><br/>
                                <p style="margin:0 auto;color:#fff;width:160px">Unique visitors who added to cart</p>
                            </div>
                            <div style="background: url(assets/Funnel_bottom.png) center center no-repeat;height:174px;text-align: center;padding-top:74px;line-height: 1.3em;" />
                                <span style="color:#fff;font-size:1.8em;" id="unique-purchases"></span><br/>
                                <p style="margin:0 auto;color:#fff;width:120px">Unique visitors who made a purchase</p>
                            </div>
                            <div style="position:absolute;left:0;top:149px;margin-left:14px;">
                                <div style="line-height: 1.3em">
                                    <span style="font-size:1.7em;color:#6ab414">42.8%</span><br />
                                    <span style="color:#b2b2b2">Your Avg</span>
                                </div>
                                <div style="margin-top:16px;line-height: 1.3em">
                                    <span style="font-size:1.7em;color:#6e7177">30.50%</span><br />
                                    <span style="color:#b2b2b2">Industry Avg</span>
                                </div>
                                <div style="margin-left:20px;margin-top:5px;"><img src="assets/Funnel_lower_indicator.png"/>
                                </div>
                            </div>
                            <div style="position:absolute;right:0;top:18px;margin-right:14px;">
                                <div style="line-height: 1.3em;text-align: right">
                                    <span style="font-size:1.7em;color:#fa2323">2.8%</span><br />
                                    <span style="color:#b2b2b2">Your Avg</span>
                                </div>
                                <div style="margin-top:16px;line-height: 1.3em; text-align: right">
                                    <span style="font-size:1.7em;color:#6e7177">4.00%</span><br />
                                    <span style="color:#b2b2b2">Industry Avg</span>
                                </div>
                                <div style="margin-left:20px;margin-top:5px;">
                                </div>
                            </div>
                        </div>
                        <div class="panel-footer reports-panel-footer" style="text-align: center;"><b>Tip:</b> You can improve your funnel performance</div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/avg_products_icon.jpg" /></div>Average Products Per Order<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <div id=""></div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading">Incentives Distribution<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <div id=""></div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/discount_ratio_icon.jpg" /></div>Discount Ratio<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Average discount rate given to buyers</p>
                            <div style="min-width:260px">
                                <div style="float:left;height:208px;width:150px;">
                                    <div id="price-tag-container" style="float:right; display:inline-block;width:120px;border-left:10px solid white">
                                        <div id="price-tag-left" style="float:left;"></div>
                                        <div id="price-tag-right" style="float:left;"></div>
                                    </div>
                                    <div style="margin-top:53px;height:170px;">
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">40%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">30%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">20%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">10%</div>
                                        <div style="height:20%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em;">0%</div>
                                    </div>

                                </div>
                                <div style="float:left;margin-left:15px">
                                    <div><span style="font-size:1.7em;color:#6ab414">12.20%</span><br/><span>Your Avg <br/>discount</span><br/><span>Which sums<br/> up to </span><span>$1.2M</span></div>
                                    <div><span style="font-size:1.7em;">24.05%</span><br/><span>Industry Avg<br/>Discount</span></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                        </div>
                        <div class="panel-footer reports-panel-footer"><b>Tip:</b> Save margins by giving lower discounts while keeping your sale volume</div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/discount_volume_rate_icon.jpg" /></div>Discount Volume Rate<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Percentage of discounted orders</p>
                            <div style="min-width:290px">
                                <div style="height:178px;width:150px;float:left">
                                    <div id="discount-volume-rate-chart" style="float:right;"></div>
                                    <div style="height:50%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">50%</div>
                                    <div style="height:50%;border-top:1px solid #b2b2b2;border-bottom:1px solid #b2b2b2;text-align:left;font-size:0.8em">25%</div>
                                </div>
                                <div style="float:left;margin-left:15px;">
                                    <div><span style="font-size:1.7em;color:#6ab414">14%</span><br/><span>Your Avgerage</span></div>
                                    <div><span style="font-size:1.7em;">35%</span><br/><span>Industry Average</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/AOV_icon.jpg" /></div>AOV<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <p style="color:#b2b2b2;text-align:center;padding-bottom:10px">Average order value</p>
                            <div style="min-width:290px">
                                <div style="height:178px;width:150px;float:left">
                                    <div id="aov-chart" style="float:right;"></div>
                                    <div style="height:33%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">$225</div>
                                    <div style="height:33%;border-top:1px solid #b2b2b2;text-align:left;font-size:0.8em">$120</div>
                                    <div style="height:34%;border-top:1px solid #b2b2b2;border-bottom:1px solid #b2b2b2;text-align:left;font-size:0.8em">$75</div>
                                </div>
                                <div style="float:left;margin-left:15px;">
                                        <div><span style="font-size:1.7em;color:#6ab414">$200</span><br/><span>Your Average</span></div>
                                        <div><span style="font-size:1.7em;">$115</span><br/><span>Industry Average</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading reports-panel-heading"><div class="pull-left" style="margin-right:10px;"><img src="assets/abandonment_icon.jpg" /></div>Shopping <br />Abandonment Rate<div class="pull-right"><img src="assets/info_icon.jpg" /></div></div>
                        <div class="panel-body">
                            <div id=""></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="../dist/bundle.js"></script>
        <script>
            d3.iconGraph('#heart-left').properties({
                'emptyGraph': 'assets/LeftHeartEmpty.png',
                'fullGraph': 'assets/LeftHeartFull.png',
                'width': '52px',
                'height': '95px',
                'percent': 88
            });

            d3.iconGraph('#heart-right').properties({
                'emptyGraph': 'assets/RightHeartEmpty.png',
                'fullGraph': 'assets/RightHeartFull.png',
                'width': '52px',
                'height': '95px',
                'percent': 60
            });

            d3.iconGraph('#price-tag-left').properties({
                'emptyGraph': 'assets/discount_ratio_empty_left.jpg',
                'fullGraph': 'assets/discount_ratio_full_left.jpg',
                'width': '55px',
                'height': '208px',
                'percent': 30
            });

            d3.iconGraph('#price-tag-right').properties({
                'emptyGraph': 'assets/discount_ratio_empty_right.jpg',
                'fullGraph': 'assets/discount_ratio_full_right.jpg',
                'width': '54px',
                'height': '208px',
                'percent': 50
            });


            d3.iconGraph("#beaker").properties({
                'emptyGraph': 'assets/bag.png',
                'fullGraph': 'assets/full-bag.png',
                'width': '119px',
                'height': '141px',
                'percent': 40
            });

            d3.barGraph('#discount-volume-rate-chart').properties({
                'height': 178,
                'width': 110,
                'colors': ['#585c63', '#16315c'],
                'data': [60, 80]
            });

            d3.barGraph('#aov-chart').properties({
                'height': 178,
                'width': 110,
                'colors': ['#16315c', '#585c63'],
                'data': [100, 200]
            });

            var format = d3.format(",d");
            d3.select("span#unique-visitors")
              .transition()
              .duration(1000)
              .tween("text", function() {
                var that = d3.select(this),
                  i = d3.interpolateNumber(1, 1125225);
                  return function(t) {
                    that.text(format(i(t)));
                  };
              });

            d3.select("span#unique-added")
              .transition()
              .duration(1000)
              .tween("text", function() {
                var that = d3.select(this),
                  i = d3.interpolateNumber(1, 1250);
                  return function(t) {
                    that.text(format(i(t)));
                  };
              });

            d3.select("span#unique-purchases")
              .transition()
              .duration(1000)
              .tween("text", function() {
                var that = d3.select(this),
                  i = d3.interpolateNumber(1, 1875);
                  return function(t) {
                    that.text(format(i(t)));
                  };
              });

            // BEGIN Conversion Radial Gauge
             var gauge = new RadialGauge({
                renderTo: 'gauge-id', // identifier of HTML canvas element or element itself
                width: 250,
                height: 250,
                units: '',
                title: false,
                value: 0,
                minValue: 0,
                maxValue: 4,
                startAngle: 90,
                ticksAngle: 180,
                majorTicks: [
                    '0','1','1.5','2','2.5','3','3.5','4'
                ],
                minorTicks: 5,
                strokeTicks: false,
                highlights: [
                    {"from": 0, "to": 1, "color": "rgba(250, 48, 35, 1)"},
                    {"from": 3, "to": 4, "color": "rgba(58, 198, 40, 1)"}
                ],
                colorPlate: '#fff',
                colorMajorTicks: '#a2a3a3',
                colorMinorTicks: '#a2a3a3',
                colorTitle: '#a2a3a3',
                colorUnits: '#a2a3a3',
                colorNumbers: '#a2a3a3',
                colorNeedleStart: '#a2a3a3',
                colorNeedleEnd: '#a2a3a3',

                valueBox: false,
                animationRule: 'bounce',
                borders: false,
                borderShadowWidth: 0
            });
            // draw initially
            gauge.draw();
            gauge.value = 2
            // END Conversion Radial Gauge

            // BEGIN Your Overall Score Radial Gauge
            var colors = {
                'pink': '#E1499A',
                'yellow': '#f0ff08',
                'green': '#47e495'
            };

            var color = '#ffffff';

            var radius = 75;
            var border = 5;
            var padding = 3;
            var startPercent = 0;
            var endPercent = 0.53;

            var twoPi = Math.PI * 2;
            var formatPercent = d3.format('.0%');
            var formatNumber = d3.format('0');
            var boxSize = (radius + padding) * 2;

            var count = Math.abs((endPercent - startPercent) / 0.01);
            var step = endPercent < startPercent ? -0.01 : 0.01;

            var parent = d3.select('div#content');

            var svg = parent.append('svg')
                .attr('width', boxSize)
                .attr('height', boxSize);

            var arc = d3.arc()
                .startAngle(0)
                .innerRadius(radius)
                .outerRadius(radius - border);

            var defs = svg.append('defs');

            var filter = defs.append('filter')
                .attr('id', 'blur');

            /*
            filter.append('feGaussianBlur')
                .attr('in', 'SourceGraphic')
                .attr('stdDeviation', '7');
            */

            var g = svg.append('g')
                .attr('transform', 'translate(' + boxSize / 2 + ',' + boxSize / 2 + ')');

            var meter = g.append('g')
                .attr('class', 'progress-meter');

            meter.append('path')
                .attr('class', 'background')
                .attr('fill', '#ccc')
                .attr('fill-opacity', 0.5)
                .attr('d', arc.endAngle(twoPi));

            var foreground = meter.append('path')
                .attr('class', 'foreground')
                .attr('fill', color)
                .attr('fill-opacity', 1)
                .attr('stroke', color)
                .attr('stroke-width', 5)
                .attr('stroke-opacity', 1)
                .attr('filter', 'url(#blur)');

            var front = meter.append('path')
                .attr('class', 'foreground')
                .attr('fill', color)
                .attr('fill-opacity', 1);

            var numberText = meter.append('text')
                .attr('fill', '#fff')
                .attr('text-anchor', 'middle')
                .style("font-size", "3em")
                .attr('dy', '-.10em');

            var justText = meter.append('text')
                .attr('fill', '#fff')
                .attr('text-anchor', 'middle')
                .attr('dy', '1.0em')
                .text('Out of 100')
                .style("font-size", "1.5em");

            function updateProgress(progress) {
                foreground.attr('d', arc.endAngle(twoPi * progress));
                front.attr('d', arc.endAngle(twoPi * progress));
                numberText.text(formatNumber(progress*100));
            }

            var progress = startPercent;

            (function loops() {
                updateProgress(progress);

                if (count > 0) {
                    count--;
                    progress += step;
                    setTimeout(loops, 10);
                }
            })();
            // END Your Overall Score Radial Guage




        </script>
    </body>
</html>
